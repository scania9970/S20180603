<?xml version="1.0" encoding="UTF-8"?>
<!DOCTYPE mapper PUBLIC "-//mybatis.org//DTD Mapper 3.0//EN" "http://mybatis.org/dtd/mybatis-3-mapper.dtd">
<mapper namespace="Group">
	<resultMap id="BoardResult" type="Board">
    <result property="bnum" column="bnum"/>
    <result property="email" column="email"/>
    <result property="board_type" column="board_type"/>
    <result property="title" column="title"/>
    <result property="content" column="content"/>
    <result property="join_status" column="join_status"/>
    <result property="view_conut" column="view_conut"/>
    <result property="vote_conut" column="vote_conut"/>
    <result property="board_date" column="board_date"/>
    <result property="nickname" column="nickname"/>
	</resultMap>

	<select id="getPosts" parameterType="Board" resultMap="BoardResult">
		select b.*, m.NICKNAME from BOARD b, member m where b.email = m.email and board_type = 3 order by bnum desc
	</select>
	
	<insert id="insertGroup" parameterType="Board">
		insert into board values (BNUM_SEQ.NEXTVAL,#{email},3,#{title},#{content},0,0,0,sysdate)
	</insert>
	
	<select id="getGroupPost" parameterType="int" resultType="Board">
		select * from board where bnum = #{bnum}
	</select>
	
</mapper>
